---
title: "A3: SPL Library Checkouts"
output: html_document
---

### Introduction

I'm a big fan of podcasts, particularly ones related to real world events and ideas. So for this assignment I'll be looking into analyzing the relevance of nonfiction books, with a particular focus on audio books. I'll be pulling data from the 2017-2023-10-Checkouts-SPL-Data.csv file to hopefully see patterns between nonfiction and audiobook checkouts. It's also important to note that the items in this list were checked out at least 10 times in a month and the data was 
pulled from 2017 to 2023.

### Summary Information


One of the five values I decided to calculate included the total number of audiobooks across
the entire duration of the data collection period (2017-2023). I found that the number of
total audiobook checkouts was 3728672. I then thought it would be appropriate to determine
the number of solely nonfiction book checkouts which, to my surprise, was only 2548. 
I then looked at the number of audiobook checkouts that were also nonfiction and found that that was
1502. I then wanted to look at the year with the most nonfiction audiobook checkouts which
happened to be 2022. Which was interesting because that's the year that I personally
listened to the most podcasts.

### The Dataset


The Seattle Public Library and the city of Seattle collaborated with third party groups
to collect and eventually publish the data. The parameters of the data range from what the material type the book was to when the checkout year was. They also include the following: title, checkout month, author, number of checkouts, publisher, publication year, etc. The Checkout data comes from multiple current and historical sources. For digital items, the media vendors: Overdrive, hoopla, Freegal, and RBDigital provided usage data. For physical item checkouts, the source of this data is the Legrady artwork data archives. For October 1 2016 to present, the source is the Horizon ILS. The seattle.gov website phrases it like, "Seattle is home to an engaged, innovative public that strives to make the city a better place to live. As a City, we strive to make our data open to the public, enabling those outside of government to find solutions to our most pressing civic challenges." They say that this Open Data Program makes the data generated by the City of Seattle available to the public for the purposes of increasing the quality of life for residents and all by increasing transparency, accountability and comparability; promoting economic development and research; and improving internal performance management. A few ethical questions that you could pose when working with this data is to ask 
yourself if this data is representative of a large and diverse amount of Seattle residents or not? Some limitations is that this dataset only counts initial checkouts, which means longer books that may be renewed multiple times may not get fair representation among the rest of the items in the data set.

### First Trends Over Time Chart

Analysis: 

So I thought it would be appropriate to include this first chart because it tracks two very prominent
and broad subject types in terms of reading material, nonfiction and fiction. Some interesting
patterns that emerged from the visual representation of this data that I may not have noticed if I were 
looking at the raw data was that during the time the pandemic occurred (2020 up until now) the number 
of nonfiction books checked out rose drastically while the oposite was true for fiction books.
While I'm not completely sure why this pattern occurred it would be interesting to pull data from 
other sources to come up with some justification for it. Here's the graph below.. 


``````{r, echo = FALSE, warning = FALSE}
source("Chart1_a3.R", local = knitr::knit_global())

ggplot(all_book_df, aes(x=checkoutyear)) +
  geom_line(aes(y = y1, color = "Nonfiction")) +
  geom_line(aes(y = y2, color = "Fiction")) +
  labs(title = "Fiction and Nonfiction Books Over The Years (2017-2023)", x = "Checkout Year", y = "Total Checkouts")+
  scale_color_manual("", breaks = c("Nonfiction","Fiction"), values = c("red", "green")) +
  guides(color = guide_legend(title = "Line Colors"))
#scale_color_brewer(palette = "Set3")
```

### Second Trends Over Time Chart

Analysis:

Similarly to the last graph, here I chose to graph the number of physical books compared to 
audiobooks that were checked out from 2017 to 2023. I decided to include this data visualization to 
try to show if people, in more recent times, were switching to other digital forms of information seeking like audiobooks or podcasts.
Something I didn't expect was a sharp drop in checkouts after 2022 for both material types. Could it be an error in
the dataset? Could it be that less people are visiting libraries in general? Again, it's hard to tell but it 
would be interesting to look into further. Here's the graph below..

``````{r, echo = FALSE, warning = FALSE}
source("Chart2_a3.R", local = knitr::knit_global())

ggplot(all_books_df, aes(x=checkoutyear2)) +
  geom_line(aes(y = y1, colour = "Book")) +
  geom_line(aes(y = y2, colour = "Audiobook")) +
  labs(title = "Books and Audiobooks Over The Years (2017-2023)", x = "Checkout Year", y = "Total Checkouts")+
  scale_color_manual("", breaks = c("Book","Audiobook"), values = c("blue", "yellow")) +
  guides(color = guide_legend(title = "Line Colors"))
#scale_color_brewer(palette = "Set3")
```

### Your Choice

Analysis:

For this last chart, I decided to stick with visualizing trends over time but this time I used
a bar chart. I'm a big fan of listening to podcasts, so while that form of media wasn't included in the 
dataset the closest thing to it was audiobooks. So here I graphed the number of checkouts of nonfiction 
audiobooks from 2017 to 2023. Another interesting trend was how, again, during the height of the 
pandemic there was a clear increase in the number of audiobooks checked out. I found this pattern 
funny becuase it was also when I probably spent the most time listening to podcasts. Here's
the graph below.. 


``````{r, echo = FALSE, warning = FALSE}
source("Chart3_a3.R", local = knitr::knit_global())

ggplot(data = max_audio_years) +
  geom_col(mapping = aes(x = CheckoutYear, y = all_checkouts, fill = CheckoutYear))+
  labs(title = "Nonfiction Audiobooks Over The Years (2017-2023)", x = "Checkout Year", y = "Total Checkouts")+
  theme_classic()+
  scale_color_brewer(palette = "Accent")  
```


